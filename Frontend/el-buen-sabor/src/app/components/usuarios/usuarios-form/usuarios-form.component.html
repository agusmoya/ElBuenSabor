<div class="card text-dark bg-light mt-5">
  <div class="card-header">
    <h2>{{ titulo }}</h2>
  </div>

  <div class="card-body">
    <form>
      <div class="row g-3 align-items-center">
        <div class="col-3">
          <label for="nombre" class="col-form-label"> Email Usuario: </label>
        </div>
        <div class="col-9">
          <input type="email" id="nombre" name="nombre" class="form-control" [(ngModel)]="model.nombre" />
          <small *ngIf="error && error.nombre" id="errorMessageEmpty" class="form-text"
            style="color: red"><i>{{ error.nombre }}</i></small>
          <small *ngIf="error && error.nombreUnique" id="errorMessageUnique" class="form-text"
            style="color: red"><i>{{ error.nombreUnique }}</i>
          </small>
          <small *ngIf="error && error.denominacionUnique" id="errorMessageUnique" class="form-text"
            style="color: red"><i>{{ error.denominacionUnique }}</i>
          </small>
        </div>
      </div>
      <div class="row g-3 align-items-center mt-1">
        <div class="col-3">
          <label for="clave" class="col-form-label"> Clave: </label>
        </div>
        <div class="col-9">
          <input type="text" id="clave" name="clave" class="form-control" [(ngModel)]="model.clave" />
          <small *ngIf="error && error.clave" id="errorMessageEmpty" class="form-text" style="color: red">
            <i>{{ error.clave }}</i>
          </small>
        </div>
      </div>
      <div class="row g-3 align-items-center mt-1">
        <div class="col-3">
          <label for="estado" class="col-form-label"> Rol: </label>
        </div>

        <div class="col-9">
          <select class="form-select" id="rol" name="rol" (change)="seleccionarRol($event)">
            <option value="null" disabled selected>Elija un rol</option>
            <option [value]="rol.id" *ngFor="let rol of roles" [selected]="rol.denominacion == model.rol?.denominacion">
              {{ rol.denominacion }}
            </option>
          </select>
          <small *ngIf="error && error.rol" id="errorMessageEmpty" class="form-text"
            style="color: red"><i>{{ error.rol }}</i></small>
        </div>
      </div>
      <div *ngIf="model?.rol?.denominacion == 'Cliente'" class="row g-3 align-items-center mt-1">
        <div class="col-3">
          <label for="nombreCliente" class="col-form-label"> Nombre: </label>
        </div>
        <div class="col-9">
          <input type="text" id="nombreCliente" name="nombreCliente" class="form-control"
            [(ngModel)]="cliente.nombre" />
        </div>
        <div class="col-3">
          <label for="apellidoCliente" class="col-form-label"> Apellido: </label>
        </div>
        <div class="col-9">
          <input type="text" id="apellidoCliente" name="apellidoCliente" class="form-control"
            [(ngModel)]="cliente.apellido" />
        </div>
        <div class="col-3">
          <label for="telefonoCliente" class="col-form-label"> Tel√©fono: </label>
        </div>
        <div class="col-9">
          <input type="number" id="telefonoCliente" name="telefonoCliente" class="form-control"
            [(ngModel)]="cliente.telefono" />
        </div>
        <div class="col-3">
          <label for="provincia" class="col-form-label"> Provincia: </label>
        </div>
        <div class="col-9">
          <input type="text" id="provincia" name="provincia" class="form-control" value="Mendoza" disabled />
        </div>
        <div class="col-3">
          <label for="departamento" class="col-form-label"> Departamento: </label>
        </div>
        <div class="col-9">
          <select (change)="seleccionarDpto($event)" class="form-select" name="departamento" id="departamento" required>
            <option name="nombreDpto" value="undefined" disabled selected>
              --- Seleccione un departamento ---
            </option>
            <option *ngFor="
              let dpto of departamentos;
              let indiceDpto = index
            " [ngValue]="dpto">
              {{ dpto.nombre }}
            </option>
          </select>
        </div>
        <div class="col-3">
          <label for="localidad" class="col-form-label"> Localidad: </label>
        </div>
        <div class="col-9">
          <select (change)="seleccionarLocalidad($event)" class="form-select" name="localidad" id="localidad" required>
            <option name="nombreDpto" value="undefined" disabled selected>
              --- Seleccione un localidad ---
            </option>
            <option *ngFor="
              let localidad of localidades;
              let indiceDpto = index
            " [ngValue]="localidad">
              {{ localidad.nombre }}
            </option>
          </select>
        </div>
      </div>
      <div class="row g-3 align-items-center mt-1" *ngIf="model.id">
        <div class="col-3">
          <label for="estado" class="col-form-label"> Estado: </label>
        </div>
        <div class="col-9">
          <select class="form-select" id="estado" name="estado" [(ngModel)]="model.estado">
            <option value="0" [selected]="model.estado === 0">
              Deshabilitado
            </option>
            <option value="1" [selected]="model.estado === 1">
              Habilitado
            </option>
          </select>
        </div>
      </div>

      <div class="row g-3 align-items-center mt-1">
        <div class="col-3">
          <label for="imgUsuario" class="col-form-label"> Imagen: </label>
        </div>
        <div class="col-9">
          <input (change)="seleccinarFoto($event)" class="form-control" type="file" id="imgUsuario" />
        </div>
      </div>

      <div class="my-3 text-center mt-5">
        <a (click)="goBack()" class="btn btn-secondary">Volver</a>
        <button class="btn btn-danger mx-5" (click)="model.id ? editar() : crear()">
          {{ model.id ? "Editar" : "Crear" }}
        </button>
      </div>
    </form>
  </div>
</div>
