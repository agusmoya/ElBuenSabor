<div class="card text-dark bg-light">
  <div class="card-header text-center">
    <h1 class="pt-3">Carrito de Compras</h1>
  </div>
  <div class="card-body">
    <div class="alert alert-warning my-3 text-center" *ngIf="items?.length == 0">
      ¡El carrito de compras está vacío!
    </div>
    <table class="table table-hover table-striped text-center" *ngIf="items?.length > 0">
      <thead>
        <tr>
          <th scope="col">Imagen</th>
          <th scope="col">Denominación</th>
          <th scope="col">Precio</th>
          <th scope="col">Eliminar Item</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items" class="align-middle">
          <td>
            <img *ngIf="item?.product.imagenHashCode && item?.product.esInsumo == false" [src]="
            baseEndpointBebida +
                '/cargar/img/' +
                item.product.id +
                '?imagenHashCode=' +
                item.product.imagenHashCode
              " class="img-thumbnail rounded" style="width: 100px; cursor: pointer" alt="img-item" />
            <img *ngIf="item?.product.imagenHashCode && item?.product.esInsumo == null" [src]="
            baseEndpointArtManuf +
                '/cargar/img/' +
                item.product.id +
                '?imagenHashCode=' +
                item.product.imagenHashCode
              " class="img-thumbnail rounded" style="width: 100px; cursor: pointer" alt="img-item" />
            <img *ngIf="!item?.product.imagenHashCode" src="/assets/images/art-manuf-no-img.png" alt="img-artManuf"
              class="img-thumbnail rounded" style="width: 100px; cursor: pointer" />
          </td>
          <td>{{ item?.product.denominacion }}</td>
          <td>$ {{ item?.product.precioVenta }} x {{ item?.quantity }}</td>
          <td>
            <button (click)="eliminarItem(item)" class="btn btn-sm btn-outline-danger">
              <i class="fas fa-trash fs-5 p-1"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="items?.length != 0" class="card-footer text-center">
    <label class="list-group-item">
      <input (change)="tieneTipoRetiro()" class="form-check-input" type="radio" name="tipoRetiro" id="local"
        value="local" [(ngModel)]="tipoRetiro">
      Retiro en Local
    </label>
    <label class="list-group-item">
      <input (change)="tieneTipoRetiro()" class="form-check-input" type="radio" name="tipoRetiro" id="domicilio"
        value="domicilio" [(ngModel)]="tipoRetiro">
      Envío a Domicilio
    </label>
    <small *ngIf="tipoRetiro.length == 0" style="color:red"><i>*Debe seleccionar una opción antes de finalizar
        pedido</i></small>
  </div>
  <div *ngIf="items?.length != 0" class="card-footer text-end">
    <p>
      <b>Subtotal: ${{ total }}</b>
    </p>
    <p class="h6">
      <b>Total: ${{ total }}</b>
    </p>
    <button type="button" class="btn btn-warning" [disabled]="tipoRetiro.length == 0">Confirmar Pedido</button>
  </div>
  <div class="text-start m-3">
    <a (click)="goBack()" class="btn btn-secondary">Volver</a>
  </div>
</div>
